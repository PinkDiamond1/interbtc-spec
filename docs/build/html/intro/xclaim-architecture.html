

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>XCLAIM Architecture &mdash; interBTC Specification  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="BTC-Relay Architecture" href="btcrelay-architecture.html" />
    <link rel="prev" title="Polkadot" href="polkadot.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: grey" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> interBTC Specification
          

          
          </a>

          
            
            
              <div class="version">
                v5.5.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Introduction</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="at-a-glance.html">BTC Parachain at a Glance</a></li>
<li class="toctree-l1"><a class="reference internal" href="CbA.html">Cryptocurrency-backed Assets</a></li>
<li class="toctree-l1"><a class="reference internal" href="polkadot.html">Polkadot</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">XCLAIM Architecture</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#actors">Actors</a></li>
<li class="toctree-l2"><a class="reference internal" href="#modules">Modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#exchange-rate-oracle">Exchange Rate Oracle</a></li>
<li class="toctree-l3"><a class="reference internal" href="#treasury">Treasury</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vault-registry">Vault Registry</a></li>
<li class="toctree-l3"><a class="reference internal" href="#collateral">Collateral</a></li>
<li class="toctree-l3"><a class="reference internal" href="#issue">Issue</a></li>
<li class="toctree-l3"><a class="reference internal" href="#redeem">Redeem</a></li>
<li class="toctree-l3"><a class="reference internal" href="#replace">Replace</a></li>
<li class="toctree-l3"><a class="reference internal" href="#security">Security</a></li>
<li class="toctree-l3"><a class="reference internal" href="#governance-mechanism">Governance Mechanism</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#interactions">Interactions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="btcrelay-architecture.html">BTC-Relay Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="bitcoin.html">Bitcoin Data Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="accepted-format.html">Accepted Bitcoin Transaction Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spec/introduction.html">How to Read This Specification</a></li>
</ul>
<p class="caption"><span class="caption-text">XCLAIM Specification</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../spec/collateral.html">Collateral</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spec/fee.html">Fee</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spec/oracle.html">Exchange Rate Oracle</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spec/issue.html">Issue</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spec/refund.html">Refund</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spec/redeem.html">Redeem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spec/replace.html">Replace</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spec/security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spec/relay.html">Relay</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spec/treasury.html">Treasury</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spec/vault-registry.html">Vault Registry</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spec/nomination.html">Vault Nomination</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spec/reward.html">Reward</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spec/staking.html">Staking</a></li>
</ul>
<p class="caption"><span class="caption-text">BTC-Relay Specification</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../spec/btc-relay/data-model.html">Data Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spec/btc-relay/functions.html">Functions: Storage and Verification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spec/btc-relay/parser.html">Functions: Parser</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spec/btc-relay/helpers.html">Functions: Utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spec/btc-relay/events.html">Events</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spec/btc-relay/errors.html">Error Codes</a></li>
</ul>
<p class="caption"><span class="caption-text">Security and Performance</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../security_performance/liquidations.html">Vault Liquidations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security_performance/xclaim-security.html">XCLAIM Security Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security_performance/btcrelay-security.html">Security Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security_performance/performance.html">Performance Analysis</a></li>
</ul>
<p class="caption"><span class="caption-text">Economics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../economics/incentives.html">Economic Incentives</a></li>
<li class="toctree-l1"><a class="reference internal" href="../economics/fees.html">Fee Model</a></li>
</ul>
<p class="caption"><span class="caption-text">All the rest</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../other/license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../other/interlay.html">Interlay</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">interBTC Specification</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>XCLAIM Architecture</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/intro/xclaim-architecture.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="xclaim-architecture">
<h1>XCLAIM Architecture<a class="headerlink" href="#xclaim-architecture" title="Permalink to this headline">¶</a></h1>
<p>interBTC consists of four different actors and eight modules. The component further uses two additional modules, the BTC-Relay component and the Parachain Governance mechanism.</p>
<div class="section" id="actors">
<h2>Actors<a class="headerlink" href="#actors" title="Permalink to this headline">¶</a></h2>
<p>There are four main participant roles in the system. A high-level overview of all modules and actors, as well as interactions between them, is provided in <a class="reference internal" href="#high-level"><span class="std std-numref">Fig. 5</span></a> below.</p>
<ul class="simple">
<li><p><strong>Vaults</strong>: Vaults are collateralized intermediaries that are active on both the backing blockchain (Bitcoin) and the issuing blockchain to provide collateral in DOT. They receive and hold BTC from users who wish to create interBTC tokens. When a user destroys interBTC tokens, a vault releases the corresponding amount of BTC to the user’s BTC address. Vaults interact with the following modules directly: <a class="reference internal" href="../spec/vault-registry.html#vault-registry"><span class="std std-ref">Vault Registry</span></a>, <a class="reference internal" href="../spec/redeem.html#redeem-protocol"><span class="std std-ref">Redeem</span></a>, and <a class="reference internal" href="../spec/replace.html#replace-protocol"><span class="std std-ref">Replace</span></a>.</p>
<ul>
<li><p><strong>Reporting</strong>: Monitors that other Vaults do not move locked BTC on Bitcoin without prior authorization by the BTC Parachain (i.e., through one of the <a class="reference internal" href="../spec/redeem.html#redeem-protocol"><span class="std std-ref">Redeem</span></a>, <a class="reference internal" href="../spec/replace.html#replace-protocol"><span class="std std-ref">Replace</span></a> or <a class="reference internal" href="../spec/refund.html#refund-protocol"><span class="std std-ref">Refund</span></a> protocols).</p></li>
<li><p><strong>Relaying</strong>: Submits block headers published on Bitcoin to the <span class="xref std std-ref">btc-relay</span>.</p></li>
</ul>
</li>
<li><p><strong>Users</strong>: Users interact with the BTC Parachain to create, use (trade/transfer/…), and redeem Bitcoin-backed interBTC tokens. Since the different protocol phases can be executed by different users, we introduce the following <em>sub-roles</em>:</p>
<ul>
<li><p><strong>Requester</strong>: A user that locks BTC with a vault on Bitcoin and issues interBTC on the BTC Parachain. Interacts with the <a class="reference internal" href="../spec/issue.html#issue-protocol"><span class="std std-ref">Issue</span></a> module.</p></li>
<li><p><strong>Sender</strong> and <strong>Receiver</strong>: A user (Sender) that sends interBTC to another user (Receiver) on the BTC Parachain. Interacts with the <a class="reference internal" href="../spec/treasury.html#treasury-module"><span class="std std-ref">Treasury</span></a> module.</p></li>
<li><p><strong>Redeemer</strong>: A user that destroys interBTC on the BTC Parachain to receive the corresponding amount of BTC on the Bitcoin blockchain from a Vault. Interacts with the <a class="reference internal" href="../spec/redeem.html#redeem-protocol"><span class="std std-ref">Redeem</span></a> module.</p></li>
</ul>
</li>
<li><p><strong>Governance Mechanism</strong>: The Parachain Governance Mechanism monitors the correct operation of the BTC Parachain. Interacts with the <a class="reference internal" href="../spec/security.html#security"><span class="std std-ref">Security</span></a> module and can manually update the parameterization of all components in the BTC Parachain.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The exact composition of the Governance Mechanism is to be defined by Polkadot.</p>
</div>
</div>
<div class="section" id="modules">
<h2>Modules<a class="headerlink" href="#modules" title="Permalink to this headline">¶</a></h2>
<p>The eight modules in interBTC plus the BTC-Relay and Governance Mechanism interact with each other, but all have distinct logical functionalities. The figure below shows them.</p>
<p>The specification clearly separates these modules to ensure that each module can be implemented, tested, and verified in isolation. The specification follows the principle of abstracting the internal implementation away and providing a clear interface. This should allow optimization and improvements of a module with minimal impact on other modules.</p>
<div class="figure align-default" id="id1">
<span id="high-level"></span><img alt="architecture diagram" src="../_images/architecture.png" />
<p class="caption"><span class="caption-number">Fig. 5 </span><span class="caption-text">High level overview of the BTC Parachain. interBTC consists of seven modules. The Oracle module stores the exchange rates based on the input of centralized and decentralized exchanges. The Treasury module maintains the ownership of interBTC, the VaultRegistry module stores information about the current Vaults in the system, and the Issue, Redeem and Replace modules expose functions and maintain data related to the respective sub protocols. The StabilizedCollateral modules handles vault collateralization, stabilization against exchange rate fluctuations and automatic liquidation. BTC-Relay tracks the Bitcoin main chain and verifies transaction inclusion. The Parachain Governance maintains correct operation of the BTC Parachain and intervenes / halts operation if necessary.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<div class="section" id="exchange-rate-oracle">
<h3>Exchange Rate Oracle<a class="headerlink" href="#exchange-rate-oracle" title="Permalink to this headline">¶</a></h3>
<p>The Oracle module maintains the <code class="docutils literal notranslate"><span class="pre">ExchangeRate</span></code> value between the asset that is used to collateralize Vaults (DOT) and the to-be-issued asset (BTC).
In the proof-of-concept, the Oracle is operated by a trusted third party to feed the current exchange rates into the system.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The exchange rate oracle implementation is not part of this specification. interBTC simply expects a continuous input of exchange rate data and assumes the oracle operates correctly.</p>
</div>
</div>
<div class="section" id="treasury">
<h3>Treasury<a class="headerlink" href="#treasury" title="Permalink to this headline">¶</a></h3>
<p>The Treasury module maintains the ownership and balance of interBTC token holders. It allows respective owners of interBTC to send their tokens to other entities  and to query their balance.
Further, it tracks the total supply of tokens.</p>
</div>
<div class="section" id="vault-registry">
<h3>Vault Registry<a class="headerlink" href="#vault-registry" title="Permalink to this headline">¶</a></h3>
<p>The VaultRegistry module manages the Vaults in the system.It allows Managing the list of active Vaults in the system and the necessary data (e.g. BTC addresses) to execute the Issue, Redeem, and Replace protocols.</p>
<p>This module also handles the collateralization rates of Vaults and reacts to exchange rate fluctuations.
Specifically, it:</p>
<ul class="simple">
<li><p>stores how much collateral each vault provided and how much of that collateral is allocated to interBTC.</p></li>
<li><p>tracks the collateralization rate of each vault and triggers measures in case the rate declines, e.g. due to exchange rate fluctuations.</p></li>
<li><p>triggers, as a last resort, automatic liquidation if a vault falls below the minimum collateralization rate.</p></li>
</ul>
</div>
<div class="section" id="collateral">
<h3>Collateral<a class="headerlink" href="#collateral" title="Permalink to this headline">¶</a></h3>
<p>The Collateral module is the central storage for any collateral that is collected in any other module.
It is allows for three simple operations: locking collateral by a party, releasing collateral back to the original party that locked this collateral, and last, slashing collateral where the collateral is relocated to a party other than the one that locked the collateral.</p>
</div>
<div class="section" id="issue">
<h3>Issue<a class="headerlink" href="#issue" title="Permalink to this headline">¶</a></h3>
<p>The Issue module handles the issuing process for interBTC tokens. It tracks issue requests by users, handles the collateral provided by users as griefing protection and exposes functionality for users to prove correct locking on BTC with Vaults (interacting with the endpoints in BTC-Relay).</p>
</div>
<div class="section" id="redeem">
<h3>Redeem<a class="headerlink" href="#redeem" title="Permalink to this headline">¶</a></h3>
<p>The Redeem module handles the redeem process for interBTC tokens. It tracks redeem requests by users, exposes functionality for Vaults to prove correct release of BTC to users (interacting with the endpoints in BTC-Relay), and handles the Vault’s collateral in case of success (free) and failure (slash).</p>
</div>
<div class="section" id="replace">
<h3>Replace<a class="headerlink" href="#replace" title="Permalink to this headline">¶</a></h3>
<p>The Replace module handles the replace process for Vaults.
It tracks replace requests by existing Vaults, exposes functionality for to-be-replaced Vaults to prove correct transfer of locked BTC to new vault candidates (interacting with the endpoints in BTC-Relay), and handles the collateral provided by participating Vaults as griefing protection.</p>
</div>
<div class="section" id="security">
<h3>Security<a class="headerlink" href="#security" title="Permalink to this headline">¶</a></h3>
<p>The Security module is the kernel of the BTC Parachain. It is imported by most modules to ensure that the chain is running.</p>
</div>
<div class="section" id="governance-mechanism">
<h3>Governance Mechanism<a class="headerlink" href="#governance-mechanism" title="Permalink to this headline">¶</a></h3>
<p>The Governance Mechanism handles correct operation of the BTC Parachain.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Governance Mechanism is not part of this specification. The BTC Parachain simply expects continuous operation of the BTC Parachain.</p>
</div>
</div>
</div>
<div class="section" id="interactions">
<h2>Interactions<a class="headerlink" href="#interactions" title="Permalink to this headline">¶</a></h2>
<p>We provide a detailed overview of the function calls between the different modules in <a class="reference internal" href="#fig-interactions"><span class="std std-numref">Fig. 6</span></a>.</p>
<div class="figure align-default" id="id2">
<span id="fig-interactions"></span><img alt="detailed architecture diagram" src="../_images/detailed-architecture.png" />
<p class="caption"><span class="caption-number">Fig. 6 </span><span class="caption-text">Detailed architecture of the BTC Parachain, showing all actors, components and their interactions.</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="btcrelay-architecture.html" class="btn btn-neutral float-right" title="BTC-Relay Architecture" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="polkadot.html" class="btn btn-neutral float-left" title="Polkadot" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2021, Interlay

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>